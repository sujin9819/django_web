{% extends 'blog/base.html' %}

{% block content %}
{% load static %}
<br>
<h1> GENOME CATALOG </h1>
<br>
<embed src="{% static 'img/MAG_tree.svg' %}" type="image/svg+xml" width=100%>
<br>
<h3 id="MAG">MAG table</h3>
<br>
<table class="table table-bordered" style="width:100%;">
    <thead>
        <tr>
        <th>MAG_index</th>
        <th>TAXONOMY</th>
        <th>Genome size</th>
        <th>comp.</th>
        <th>cont.</th>
        </tr>
    </thead>
    <tbody>
        {% for MAG in magdatas %}
        <tr>
            <td> <a href="Genome/{{MAG.pk}}"> {{ MAG.pk }}</a></td>
            <td class="taxon">{{ MAG.Taxon }}</td>
            <td>{{ MAG.Genome_size }}</td>
            <td>{{ MAG.Completeness_score }}</td>
            <td>{{ MAG.Contamination_score }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% if magdatas.has_other_pages %}  
<div align="center">
    <ul class = "pagination">
    {% if magdatas.has_previous %}  
    <a href="?page={{ magdatas.previous_page_number }}#MAG">&laquo;</a>
    {% else %}
    <a>&laquo;</a>
    {% endif %}
    
    {% for i in magdatas.paginator.page_range %}
    {% if i >= magdatas.number|add:-5 and i <= magdatas.number|add:5 %}
    {% if magdatas.number == i %}   
        <a class="active">{{ i }}</a>
    {% else %}
        <a href="?page={{ i }}#MAG">{{ i }}</a>
    {% endif %}
    {% endif %}
    {% endfor %}

    {% if magdatas.has_next %}  
        <a href="?page={{ magdatas.next_page_number }}#MAG">&raquo;</a>
    {% else %}
        <a>&raquo;</a>
    {%endif %}
    </ul>
    {%endif%}
</div>

<p> * <br>
    comp. : Completeness score <br>
    cont. : Contamination score
</p>

{% endblock content %}


